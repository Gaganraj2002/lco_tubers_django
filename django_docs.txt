____________________________________________________________________
-------------------------------Django-------------------------------
____________________________________________________________________
prerequisite module: 
-pipenv


Virtual environment created using cmd "pipenv shell":
then:
Pipenv install Django
pipenv install psycopg2-binary
Django-admin startproject Project_name
____________________________________________________________________
python manage.py runserver
____________________________________________________________________
change db in settings.py to postgre

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.postgresql',
        'NAME': "test_db",
        'USER': 'postgres',
        'PASSWORD': 'root',
        'HOST': 'localhost'
    }
}

____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________

Creating SuperUser
____________________________________________________________________
python manage.py createsuperuser
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________

adding a su Theme
____________________________________________________________________
https://pypi.org/project/djangocms-admin-style/
____________________________________________________________________
https://djangopackages.org/grids/g/admin-styling/
read documentation for installation
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________

pip install djangocms-admin-style
____________________________________________________________________

Static Files
____________________________________________________________________
add these in settings.py after STATIC_URL
____________________________________________________________________
STATIC_ROOT = os.path.join(BASE_DIR, "static")
STATICFILES_DIRS = [
    os.path.join(BASE_DIR, "tubers/static")
]
____________________________________________________________________
then run 
____________________________________________________________________
python manage.py collectstatic
____________________________________________________________________
creating an app
____________________________________________________________________
python manage.py startapp webpages
____________________________________________________________________
then add the app to settings.py in installled apps
____________________________________________________________________
"webpages.app.WebpagesConfig"
____________________________________________________________________
add urls.py in created app
link urls.py using include method in main urls File
and following changes in urls.py
____________________________________________________________________
from django.urls import path,include
from django.conf.urls.static import static
from django.conf import settings
urlpatterns = [
    path('admin/', admin.site.urls),
    path("",include("webpages.urls")),
]+ static(settings.MEDIA_URL,document_root=settings.MEDIA_ROOT)
____________________________________________________________________
____________________________________________________________________
sudo lsof -t -i tcp:8000 | xargs kill -9
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
Models 
____________________________________________________________________
____________________________________________________________________
creating models(tables in django):
making models in models.py from app...(webpages in present case):
____________________________________________________________________
____________________________________________________________________

registering models in admin
____________________________________________________________________
from .models import Slider
admin.site.register(Slider)
____________________________________________________________________
____________________________________________________________________
python manage.py makemigrations
python manage.py migrate
python manage.py runserver

____________________________________________________________________
add directory to template
____________________________________________________________________
accessing data from models
____________________________________________________________________

passing them as dictionary and using them directly from template pages
using {{ dict_key }} this will provide value 
for imagefields {{ dict_key.photo.url }}

____________________________________________________________________
____________________________________________________________________
To edit the models page.. to get more information:
____________________________________________________________________
____________________________________________________________________
make another class in admin.py 
for example:

class TeamView(admin.ModelAdmin):
    list_display = ("id", "first_name", "role", "created_date")
____________________________________________________________________
____________________________________________________________________
then add the class to the register method
____________________________________________________________________
admin.site.register(Team, TeamView)
____________________________________________________________________
the following code will make the fields clickable
____________________________________________________________________
class TeamView(admin.ModelAdmin):
    list_display = ("id", "first_name", "role", "created_date")
    list_display_links = ("id", "first_name", "role", "created_date")
____________________________________________________________________
____________________________________________________________________
Search_fields:

____________________________________________________________________

class TeamView(admin.ModelAdmin):
    list_display = ("id", "first_name", "role", "created_date")
    list_display_links = ("id", "first_name", "role", "created_date")
    search_fields = ("first_name", "role")
____________________________________________________________________
____________________________________________________________________
filtering on rhs:
____________________________________________________________________
____________________________________________________________________

class TeamView(admin.ModelAdmin):
    list_display = ("id", "first_name", "role", "created_date")
    list_display_links = ("id", "first_name", "role", "created_date")
    search_fields = ("first_name", "role")
    list_filter = ("role",)
____________________________________________________________________
____________________________________________________________________
Adding image:
____________________________________________________________________
from django.utils.html import format_html

then

class TeamView(admin.ModelAdmin):
    def pic(self, object):
        return format_html("<img src={} width =40 />".format(object.photo.url))
    list_display = ("id", "pic", "first_name", "role", "created_date")
    list_display_links = ("id", "first_name", "role", "created_date")
    search_fields = ("first_name", "role")
    list_filter = ("role",)


____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
making another app.. youtubers

python manage.py startapp youtubers

add the following in settings.py at INSTALLED_APPS

    "youtubers.apps.YoutubersConfig",
____________________________________________________________________
____________________________________________________________________
adding urls 
add 
    path("youtubers/", include("youtubers.urls")),
in main urls.py 
____________________________________________________________________
create a new urls.py in youtubers

from django.urls import path, include
from . import views

urlpatterns = [
    path('', views.youtubers, name="youtubers"),
    path('<int:id>', views.youtubers_id, name="youtubers_id"),
    path('search', views.youtubers, name="search"),
]
____________________________________________________________________
create views.. currently just pass
____________________________________________________________________
create models
____________________________________________________________________
edit admin panel
____________________________________________________________________
now import object from youtubers to webpages app
to render views
____________________________________________________________________
url names can be used as static 
{% url 'url_name' %}
____________________________________________________________________
search :
add a method in form as get
action call to url search
and input name as keyword
and views .. search the tubers description with keyword and return
 query set
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________
____________________________________________________________________


